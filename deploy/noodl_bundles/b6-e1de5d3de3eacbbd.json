[{"name":"/Progression","nodes":[{"id":"b7c97531-2914-4b4d-f8e2-cf05623a2070","type":"Page","parameters":{},"ports":[],"children":[{"id":"94b24d86-5bd5-a333-40c5-734a65e1c4b7","type":"Group","parameters":{"justifyContent":"space-between","alignItems":"flex-start"},"ports":[],"children":[{"id":"91e57e91-f9cf-f7b9-7113-d270af55b55c","type":"Group","parameters":{"alignItems":"flex-start","justifyContent":"flex-start","rowGap":{"value":16,"unit":"px"},"styleCss":"user-select: none;","sizeMode":"contentSize"},"ports":[],"children":[{"id":"f210a4df-2bc4-62ce-ec9d-5591c58a3819","type":"Group","parameters":{"alignItems":"flex-start","justifyContent":"center","sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":12,"unit":"px"},"styleCss":"font-size: 48px;"},"ports":[],"children":[{"id":"5a27a0de-bb7d-51a0-5d66-aaceb086d6fc","type":"Image","parameters":{"styleCss":"aspect-ratio: 1 / 1;\nheight: 1em;","src":"images/Progression Icon.svg"},"ports":[],"children":[]},{"id":"ea662018-8230-8f93-698d-f50917910f04","type":"Text","parameters":{"text":"Progression","color":"#f2f2f2","fontFamily":"Helvetica","styleCss":"font-weight: bold;","lineHeight":{"value":1,"unit":""},"fontSize":{"value":48,"unit":"px"}},"ports":[],"children":[]}]},{"id":"09efc4eb-07d6-cda5-c035-89a7666c0714","type":"Text","parameters":{"color":"#f2f2f2","fontFamily":"Helvetica","fontSize":{"value":24,"unit":"px"},"styleCss":"white-space: nowrap;","sizeMode":"contentSize","lineHeight":{"value":1,"unit":""},"opacity":0.25},"ports":[],"children":[]}]},{"id":"402ee64a-fc35-4f70-cf23-79b7328c6f6c","type":"/Components/Page Controls","parameters":{"Page":"Progression"},"ports":[],"children":[]},{"id":"f0959c15-ec56-b298-0d2c-3b80fa55008b","type":"Group","parameters":{},"ports":[],"children":[{"id":"f574d3aa-c55f-83ee-5101-389916f850cc","type":"Group","parameters":{"alignY":"center","alignX":"center","position":"absolute","styleCss":"aspect-ratio: 1 / 1;","sizeMode":"contentWidth"},"ports":[],"children":[]},{"id":"9e8a5957-2578-1eed-7f3b-01b972db8348","type":"module.inlineHtml","parameters":{"runJs":true,"html":"<script>\n\n</script>"},"ports":[],"children":[]}]}]},{"id":"7b3bb267-6f4a-1425-71b0-912eff96417d","type":"/Components/Button","parameters":{"Color":"#f2f2f2","Text":"Home","State":false},"ports":[],"children":[]}]},{"id":"41ce193b-9ad1-07b5-ed5f-941bc1e52843","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"e310e494-b02e-de73-37b9-d65883109efb","type":"/Logic/Get Progress","parameters":{},"ports":[],"children":[]},{"id":"97cc2537-378d-acdb-9316-708ff13fdede","type":"/Logic/Set Previous Page","parameters":{"Page":"progression"},"ports":[],"children":[]},{"id":"2105ce28-506e-b267-6f7c-5c86618503e4","type":"RouterNavigate","parameters":{"router":"main","target":"/Home"},"ports":[],"children":[]},{"id":"1936253c-154a-91c7-f055-0a50c73054ef","type":"/Logic/Create Network Graph Data","parameters":{},"ports":[],"children":[]},{"id":"93aeb931-d256-c2cc-367c-055e4bbfdc17","type":"Javascript2","parameters":{"code":"Script.Inputs = {\n    graph: 'reference',\n}\n\nScript.Signals = {\n    didMount() {\n        const domElement = Script.Inputs.graph.getDOMElement();\n        domElement.id = Script.Inputs.graphID;\n    },\n    willUnmount() {\n        // const domElement = Script.Inputs.group.getDOMElement();\n        // domElement.removeEventListener(...)\n    },\n    dataLoaded() {\n        // Draw the graph\n        // set the dimensions and margins of the graph\n        var margin = {top: 0, right: 0, bottom: 0, left: 0};\n        var width = Script.Inputs.graph.getDOMElement().getBoundingClientRect().width - margin.left - margin.right;\n        var height = Script.Inputs.graph.getDOMElement().getBoundingClientRect().height - margin.top - margin.bottom;\n\n        function getCategoryColor(category) {\n            switch(category) {\n                default:\n                    console.log(category)\n                    return '#B9B9B9';\n                case 'Names':\n                    return '#16BDFF';\n                case 'History':\n                    return '#FF0000';\n                case 'Trivia':\n                    return '#00933C';\n            }\n        }\n\n        // append the svg object to the body of the page\n        var svg = d3.select(\"#\" + Script.Inputs.graphID)\n        .append(\"svg\")\n        .attr(\"width\", width*2 + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        let data = Script.Inputs.graphData;\n\n        // Initialize the links\n        var link = svg\n        .selectAll(\"line\")\n        .data(data.links)\n        .enter()\n        .append(\"line\")\n            .style(\"stroke\", \"#2A2A2A\")\n\n        // Initialize the nodes\n        var node = svg\n        .selectAll(\"circle\")\n        .data(data.nodes)\n        .enter()\n        .append(\"circle\")\n            .attr(\"r\", 6)\n            .style(\"stroke-width\", 4)\n            .style(\"stroke\", \"#101010\")\n            .style(\"fill\", function(d) {return d.unlocked ? getCategoryColor(d.category) : '#4D4D4D'});\n\n        // Let's list the force we wanna apply on the network\n        var simulation = d3.forceSimulation(data.nodes)                 // Force algorithm is applied to data.nodes\n            .force(\"link\", d3.forceLink()                               // This force provides links between nodes\n                .id(function(d) { return d.id; })                     // This provide  the id of a node\n                .links(data.links)                                    // and this the list of links\n            )\n            .force(\"charge\", d3.forceManyBody().strength(-20))         // This adds repulsion between nodes. Play with the -400 for the repulsion strength\n            .force(\"center\", d3.forceCenter(width / 2, height / 2))     // This force attracts nodes to the center of the svg area\n            .on(\"end\", ticked)\n            .on(\"tick\", ticked)\n\n        // This function is run at each iteration of the force algorithm, updating the nodes position.\n        function ticked() {\n        link\n            .attr(\"x1\", function(d) { return d.source.x; })\n            .attr(\"y1\", function(d) { return d.source.y; })\n            .attr(\"x2\", function(d) { return d.target.x; })\n            .attr(\"y2\", function(d) { return d.target.y; });\n\n        node\n                .attr(\"cx\", function (d) { return d.x; })\n                .attr(\"cy\", function(d) { return d.y; });\n                \n        }\n    }\n}\n","scriptInputs":[{"id":"b20s","label":"graphID"},{"id":"khci","label":"graphData"}],"graphID":"graphArea","intype-graphData":"object"},"ports":[{"name":"intype-graphID","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"b20s","index":5},{"name":"graphID","plug":"input","type":"string","group":"Inputs","index":6},{"name":"intype-graphData","displayName":"Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"array","label":"Array"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"khci","index":7},{"name":"graphData","plug":"input","type":"object","group":"Inputs","index":8},{"name":"graph","plug":"input","type":{"name":"reference"},"group":"Inputs","index":9},{"name":"didMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":10},{"name":"willUnmount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":11},{"name":"dataLoaded","plug":"input","type":{"name":"signal"},"group":"Inputs","index":12},{"name":"group","displayName":"group","plug":"input","type":"*","group":"Inputs","index":13}],"children":[]}],"connections":[{"sourceId":"e310e494-b02e-de73-37b9-d65883109efb","sourcePort":"Progress String","targetId":"09efc4eb-07d6-cda5-c035-89a7666c0714","targetPort":"text"},{"sourceId":"b7c97531-2914-4b4d-f8e2-cf05623a2070","sourcePort":"didMount","targetId":"97cc2537-378d-acdb-9316-708ff13fdede","targetPort":"Do"},{"sourceId":"7b3bb267-6f4a-1425-71b0-912eff96417d","sourcePort":"Clicked","targetId":"2105ce28-506e-b267-6f7c-5c86618503e4","targetPort":"navigate"},{"sourceId":"b7c97531-2914-4b4d-f8e2-cf05623a2070","sourcePort":"didMount","targetId":"e310e494-b02e-de73-37b9-d65883109efb","targetPort":"Do"},{"sourceId":"b7c97531-2914-4b4d-f8e2-cf05623a2070","sourcePort":"didMount","targetId":"1936253c-154a-91c7-f055-0a50c73054ef","targetPort":"Do"},{"sourceId":"f574d3aa-c55f-83ee-5101-389916f850cc","sourcePort":"didMount","targetId":"93aeb931-d256-c2cc-367c-055e4bbfdc17","targetPort":"didMount"},{"sourceId":"f574d3aa-c55f-83ee-5101-389916f850cc","sourcePort":"willUnmount","targetId":"93aeb931-d256-c2cc-367c-055e4bbfdc17","targetPort":"willUnmount"},{"sourceId":"f574d3aa-c55f-83ee-5101-389916f850cc","sourcePort":"this","targetId":"93aeb931-d256-c2cc-367c-055e4bbfdc17","targetPort":"graph"},{"sourceId":"1936253c-154a-91c7-f055-0a50c73054ef","sourcePort":"Data","targetId":"93aeb931-d256-c2cc-367c-055e4bbfdc17","targetPort":"graphData"},{"sourceId":"1936253c-154a-91c7-f055-0a50c73054ef","sourcePort":"Done","targetId":"93aeb931-d256-c2cc-367c-055e4bbfdc17","targetPort":"dataLoaded"}],"ports":[],"roots":["b7c97531-2914-4b4d-f8e2-cf05623a2070"],"metadata":{"canvasPos":{"x":3169.5465667977646,"y":0}}},{"name":"/Logic/Get Progress","nodes":[{"id":"8f30e97f-5577-a5fe-cd0b-726d32084295","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"1a327ff8-fd5e-9357-41cd-43c2d5e8d12c","type":"String Format","parameters":{"format":"Facts Unlocked: {unlocked}/{total}"},"ports":[],"children":[]},{"id":"06392617-8f68-2209-2a17-bd1b572f8d1a","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"a82fe9d8-3e00-95cb-ed93-5fb28ef3fe73","type":"/Logic/Get Facts","parameters":{},"ports":[],"children":[]},{"id":"a1917113-a60f-6043-69c6-e027923331af","type":"/Logic/Load Unlocked Facts","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"1a327ff8-fd5e-9357-41cd-43c2d5e8d12c","sourcePort":"formatted","targetId":"8f30e97f-5577-a5fe-cd0b-726d32084295","targetPort":"Progress String"},{"sourceId":"06392617-8f68-2209-2a17-bd1b572f8d1a","sourcePort":"Do","targetId":"a82fe9d8-3e00-95cb-ed93-5fb28ef3fe73","targetPort":"Do"},{"sourceId":"a82fe9d8-3e00-95cb-ed93-5fb28ef3fe73","sourcePort":"Facts Count","targetId":"1a327ff8-fd5e-9357-41cd-43c2d5e8d12c","targetPort":"total"},{"sourceId":"06392617-8f68-2209-2a17-bd1b572f8d1a","sourcePort":"Do","targetId":"a1917113-a60f-6043-69c6-e027923331af","targetPort":"Do"},{"sourceId":"a1917113-a60f-6043-69c6-e027923331af","sourcePort":"Unlocked Facts Count","targetId":"1a327ff8-fd5e-9357-41cd-43c2d5e8d12c","targetPort":"unlocked"}],"ports":[{"name":"Progress String","type":"string","plug":"output","index":1},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1}],"roots":[]},{"name":"/Logic/Load Unlocked Facts","nodes":[{"id":"9cac1391-6e1d-6b72-f12d-bfba1fa7f3a7","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"54f4ebba-6b8c-a382-5a6b-5eabb69ee90c","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"336b90a1-93ae-8cf6-2ebf-aa3f310acdd1","type":"JavaScriptFunction","parameters":{"scriptOutputs":[{"id":"hp30","label":"UnlockedFacts"},{"id":"jvvw","label":"Done"}],"outtype-Settings":"array","functionScript":"if(Inputs.SettingsExists) {\n    Outputs.UnlockedFacts = JSON.parse(localStorage.getItem('userData'))['unlocked-facts'];\n} else {\n    Outputs.UnlockedFacts = [];\n}\n\nOutputs.UnlockedFactsCount = Outputs.UnlockedFacts.length;\n\nOutputs.Done();","outtype-Done":"signal","outtype-UnlockedFacts":"array","scriptInputs":[{"id":"8qtn","label":"SettingsExists"}],"intype-SettingsExists":"boolean"},"ports":[{"name":"outtype-UnlockedFacts","displayName":"Type","editorName":"UnlockedFacts | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"hp30","index":4},{"name":"out-UnlockedFacts","displayName":"UnlockedFacts","plug":"output","type":"array","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"jvvw","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"intype-SettingsExists","displayName":"Type","editorName":"SettingsExists | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"8qtn","index":8},{"name":"in-SettingsExists","displayName":"SettingsExists","plug":"input","type":"boolean","group":"Inputs","index":9},{"name":"out-UnlockedFactsCount","displayName":"UnlockedFactsCount","plug":"output","type":"*","group":"Outputs","index":10}],"children":[]},{"id":"8710cb02-8467-66e6-3d75-c1bd8e31cda0","type":"/Logic/Load Settings","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"336b90a1-93ae-8cf6-2ebf-aa3f310acdd1","sourcePort":"out-UnlockedFacts","targetId":"54f4ebba-6b8c-a382-5a6b-5eabb69ee90c","targetPort":"Unlocked Facts"},{"sourceId":"336b90a1-93ae-8cf6-2ebf-aa3f310acdd1","sourcePort":"out-Done","targetId":"54f4ebba-6b8c-a382-5a6b-5eabb69ee90c","targetPort":"Done"},{"sourceId":"9cac1391-6e1d-6b72-f12d-bfba1fa7f3a7","sourcePort":"Do","targetId":"8710cb02-8467-66e6-3d75-c1bd8e31cda0","targetPort":"Do"},{"sourceId":"8710cb02-8467-66e6-3d75-c1bd8e31cda0","sourcePort":"Settings Exists","targetId":"336b90a1-93ae-8cf6-2ebf-aa3f310acdd1","targetPort":"in-SettingsExists"},{"sourceId":"8710cb02-8467-66e6-3d75-c1bd8e31cda0","sourcePort":"Done","targetId":"336b90a1-93ae-8cf6-2ebf-aa3f310acdd1","targetPort":"run"},{"sourceId":"336b90a1-93ae-8cf6-2ebf-aa3f310acdd1","sourcePort":"out-UnlockedFactsCount","targetId":"54f4ebba-6b8c-a382-5a6b-5eabb69ee90c","targetPort":"Unlocked Facts Count"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Done","type":"signal","plug":"output","index":1},{"name":"Unlocked Facts","type":"array","plug":"output","index":2},{"name":"Unlocked Facts Count","type":"*","plug":"output","index":3}],"roots":[]},{"name":"/Logic/Create Network Graph Data","nodes":[{"id":"7bcb99d4-8259-8174-645c-80100e67fe59","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"884747eb-628f-abad-7e8d-10c0f069204c","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"3ac3049d-16ee-38e8-8f29-4a737521e2c3","type":"/Logic/Load Unlocked Facts","parameters":{},"ports":[],"children":[]},{"id":"e2bc8639-a402-2ece-6443-bdda2e712e28","type":"/Logic/Get Facts","parameters":{},"ports":[],"children":[]},{"id":"27653989-abae-d76e-f538-2b5e1754e051","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"j1ry","label":"Facts"},{"id":"d1ot","label":"UnlockedFacts"}],"intype-Facts":"array","intype-Unlocked Facts":"array","intype-UnlockedFacts":"array","scriptOutputs":[{"id":"o3hi","label":"nodes"},{"id":"8uau","label":"Done"}],"outtype-nodes":"array","functionScript":"let facts = Inputs.Facts;\nlet nodes = [];\n\n// Iterate over all facts\n// Make a node for each fact\n// If the fact is unlocked, denote this\nfacts.forEach(fact => {\n    let node = {\n        'id': fact.index,\n        'name': `#${fact.index}`,\n        'category': fact.category,\n        'unlocked': Inputs.UnlockedFacts.findIndex(uF => uF.index === fact.index) != -1\n    };\n    \n    nodes.push(node);\n});\n\nOutputs.nodes = nodes;\nOutputs.Done();","outtype-Done":"signal"},"ports":[{"name":"outtype-nodes","displayName":"Type","editorName":"nodes | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"o3hi","index":4},{"name":"out-nodes","displayName":"nodes","plug":"output","type":"array","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"8uau","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"intype-Facts","displayName":"Type","editorName":"Facts | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"j1ry","index":8},{"name":"in-Facts","displayName":"Facts","plug":"input","type":"array","group":"Inputs","index":9},{"name":"intype-UnlockedFacts","displayName":"Type","editorName":"UnlockedFacts | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"d1ot","index":10},{"name":"in-UnlockedFacts","displayName":"UnlockedFacts","plug":"input","type":"array","group":"Inputs","index":11}],"children":[]},{"id":"d8fef924-cb7d-7ff0-7096-f6c7c2f3d7d7","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"j1ry","label":"Facts"}],"intype-Facts":"array","intype-Unlocked Facts":"array","intype-UnlockedFacts":"array","scriptOutputs":[{"id":"o3hi","label":"links"},{"id":"5uga","label":"Done"}],"outtype-nodes":"array","functionScript":"let facts = Inputs.Facts;\nlet links = [];\n\n// Iterate over all facts\n// Make a link from each fact to all other facts that share a tag\nfacts.forEach(fact => {\n    fact.tags.forEach(tag => {\n        // Find all facts with the same tag\n        let matchingTagFacts = facts.filter((f) => f.tags.findIndex(t => t === tag) != -1 && f != fact);\n        \n        matchingTagFacts.forEach(match => {\n            let link = {\n                'source': fact.index,\n                'target': match.index\n            };\n\n            links.push(link);\n        });\n        \n        // // Find all facts with the same category\n        // let matchingCategoryFacts = facts.filter((f) => f.category === fact.category && f != fact);\n        \n        // matchingCategoryFacts.forEach(match => {\n        //     let link = {\n        //         'source': fact.index,\n        //         'target': match.index\n        //     };\n\n        //     links.push(link);\n        // });\n    });\n});\n\n// Filter out all links that are the inverse of another link\nlet filteredLinks = [];\nfor(let i=0; i < links.length; i++) {\n    let link = links[i];\n    let linkUnique = links.findIndex(l => l.source === link.target && l.target === link.source) === -1;\n    if(linkUnique) {\n        filteredLinks.push(link);\n    } else {\n        // Check if the filtered links has a link like this in it\n        let matchingLink = filteredLinks.findIndex(l => l.source === link.source && l.target === link.target) != -1;\n        let inverseLink = filteredLinks.findIndex(l => l.source === link.target && l.target === link.source) != -1;\n        if(!matchingLink && !inverseLink) {\n            filteredLinks.push(link);\n        }\n    }\n}\n\nlinks = filteredLinks;\n\nOutputs.links = links;\nOutputs.Done();","outtype-links":"array","outtype-Done":"signal"},"ports":[{"name":"outtype-links","displayName":"Type","editorName":"links | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"o3hi","index":4},{"name":"out-links","displayName":"links","plug":"output","type":"array","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"5uga","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"intype-Facts","displayName":"Type","editorName":"Facts | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"j1ry","index":8},{"name":"in-Facts","displayName":"Facts","plug":"input","type":"array","group":"Inputs","index":9}],"children":[]},{"id":"fe37a327-33bc-b61c-fea0-e02d9e870e9d","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"j1ry","label":"nodes"},{"id":"aomx","label":"links"}],"intype-Facts":"array","intype-Unlocked Facts":"array","intype-UnlockedFacts":"array","scriptOutputs":[{"id":"k8ir","label":"Done"},{"id":"3qtn","label":"data"}],"outtype-nodes":"array","functionScript":"Outputs.data = {\n    'nodes': Inputs.nodes,\n    'links': Inputs.links\n};\nOutputs.Done();","outtype-links":"array","outtype-Done":"signal","intype-nodes":"array","intype-links":"array","outtype-data":"object"},"ports":[{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"k8ir","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"outtype-data","displayName":"Type","editorName":"data | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"3qtn","index":6},{"name":"out-data","displayName":"data","plug":"output","type":"object","group":"Outputs","index":7},{"name":"intype-nodes","displayName":"Type","editorName":"nodes | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"j1ry","index":8},{"name":"in-nodes","displayName":"nodes","plug":"input","type":"array","group":"Inputs","index":9},{"name":"intype-links","displayName":"Type","editorName":"links | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"aomx","index":10},{"name":"in-links","displayName":"links","plug":"input","type":"array","group":"Inputs","index":11}],"children":[]}],"connections":[{"sourceId":"7bcb99d4-8259-8174-645c-80100e67fe59","sourcePort":"Do","targetId":"e2bc8639-a402-2ece-6443-bdda2e712e28","targetPort":"Do"},{"sourceId":"e2bc8639-a402-2ece-6443-bdda2e712e28","sourcePort":"Done","targetId":"3ac3049d-16ee-38e8-8f29-4a737521e2c3","targetPort":"Do"},{"sourceId":"3ac3049d-16ee-38e8-8f29-4a737521e2c3","sourcePort":"Unlocked Facts","targetId":"27653989-abae-d76e-f538-2b5e1754e051","targetPort":"in-UnlockedFacts"},{"sourceId":"e2bc8639-a402-2ece-6443-bdda2e712e28","sourcePort":"Facts","targetId":"27653989-abae-d76e-f538-2b5e1754e051","targetPort":"in-Facts"},{"sourceId":"3ac3049d-16ee-38e8-8f29-4a737521e2c3","sourcePort":"Done","targetId":"27653989-abae-d76e-f538-2b5e1754e051","targetPort":"run"},{"sourceId":"27653989-abae-d76e-f538-2b5e1754e051","sourcePort":"out-Done","targetId":"d8fef924-cb7d-7ff0-7096-f6c7c2f3d7d7","targetPort":"run"},{"sourceId":"e2bc8639-a402-2ece-6443-bdda2e712e28","sourcePort":"Facts","targetId":"d8fef924-cb7d-7ff0-7096-f6c7c2f3d7d7","targetPort":"in-Facts"},{"sourceId":"d8fef924-cb7d-7ff0-7096-f6c7c2f3d7d7","sourcePort":"out-Done","targetId":"fe37a327-33bc-b61c-fea0-e02d9e870e9d","targetPort":"run"},{"sourceId":"27653989-abae-d76e-f538-2b5e1754e051","sourcePort":"out-nodes","targetId":"fe37a327-33bc-b61c-fea0-e02d9e870e9d","targetPort":"in-nodes"},{"sourceId":"d8fef924-cb7d-7ff0-7096-f6c7c2f3d7d7","sourcePort":"out-links","targetId":"fe37a327-33bc-b61c-fea0-e02d9e870e9d","targetPort":"in-links"},{"sourceId":"fe37a327-33bc-b61c-fea0-e02d9e870e9d","sourcePort":"out-Done","targetId":"884747eb-628f-abad-7e8d-10c0f069204c","targetPort":"Done"},{"sourceId":"fe37a327-33bc-b61c-fea0-e02d9e870e9d","sourcePort":"out-data","targetId":"884747eb-628f-abad-7e8d-10c0f069204c","targetPort":"Data"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Data","type":"object","plug":"output","index":1},{"name":"Done","type":"signal","plug":"output","index":2}],"roots":[]}]