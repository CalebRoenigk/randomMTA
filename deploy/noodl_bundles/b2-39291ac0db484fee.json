[{"name":"/Home","nodes":[{"id":"d4eaeffe-6f20-b7d9-869c-fa806c10402a","type":"Page","parameters":{},"ports":[],"children":[{"id":"a1812fe2-c5fc-2f75-c16b-4c74f3afdbf2","type":"Group","parameters":{},"ports":[],"children":[{"id":"5448d0a3-8e50-ec6f-9aa9-540bb9066515","type":"Group","parameters":{"sizeMode":"contentWidth","flexDirection":"column","flexWrap":"nowrap","justifyContent":"space-between","alignItems":"flex-start","styleCss":"user-select: none;"},"ports":[],"children":[{"id":"96d8ac2e-7319-1419-824a-048193ee01da","type":"Group","parameters":{"rowGap":{"value":8,"unit":"px"}},"ports":[],"children":[{"id":"b4f252f4-c955-195f-ad89-49d82eef5a0e","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","columnGap":{"value":16,"unit":"px"},"justifyContent":"flex-start","alignItems":"center","opacity":0.25},"ports":[],"children":[{"id":"f12ecda9-ddb6-034b-acdf-10adc742964a","type":"Text","parameters":{"color":"#f2f2f2","styleCss":"white-space: nowrap;","fontSize":{"value":24,"unit":"px"},"fontFamily":"Helvetica","sizeMode":"contentSize","lineHeight":{"value":1,"unit":""}},"ports":[],"children":[]},{"id":"93a8614b-1745-ad6b-6052-1efd0a26347e","type":"Text","parameters":{"color":"#f2f2f2","fontFamily":"Helvetica","fontSize":{"value":24,"unit":"px"},"styleCss":"white-space: nowrap;","sizeMode":"contentSize","lineHeight":{"value":1,"unit":""}},"ports":[],"children":[]}]},{"id":"58d88105-66dc-4734-ff1c-bfa8be15e429","type":"Group","parameters":{"sizeMode":"contentSize","rowGap":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"c48d5783-591d-b776-2add-f2e746ef959b","type":"module.inlineHtml","parameters":{"cssClassName":"fact-copy"},"ports":[],"children":[]},{"id":"d4f01323-aa20-4505-da2e-612df2e27be4","type":"Group","parameters":{"sizeMode":"contentSize","opacity":0.25,"rowGap":{"value":4,"unit":"px"}},"ports":[],"children":[{"id":"d1a3b870-63b2-4030-4419-cee647e1fe28","type":"Text","parameters":{"sizeMode":"contentSize","color":"#f2f2f2","text":"Sources:","styleCss":"white-space: nowrap;","fontSize":{"value":16,"unit":"px"},"fontFamily":"Helvetica","lineHeight":{"value":1,"unit":""}},"ports":[],"children":[]},{"id":"eafbc69b-37b2-8e86-2445-6a1f59d72c00","type":"For Each","parameters":{"template":"/Components/Source"},"ports":[],"children":[]}]}]}]},{"id":"36da1efc-0444-8e31-50be-9af6ed6a0505","type":"Group","parameters":{"sizeMode":"contentSize","alignItems":"flex-start","justifyContent":"center","flexDirection":"row","columnGap":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"e9a913b6-78c6-d839-9e6a-f2d865e27434","type":"For Each","parameters":{"template":"/Components/Tag"},"ports":[],"children":[]}]}]},{"id":"1ebcdb91-84cb-586b-627b-b68021992672","type":"/Components/Page Controls","parameters":{"Page":"Home"},"ports":[],"children":[]}]}]},{"id":"0ffc0ca3-2659-0a02-0a0d-698e7a7dd8f6","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"354e0c7a-9920-cd87-f5ed-7bdce0571216","type":"/Logic/Get Tag Color","parameters":{},"ports":[],"children":[]},{"id":"e5d797a1-2b08-34ba-663f-97f0b03f91da","type":"String Format","parameters":{"format":"#{index}"},"ports":[],"children":[]},{"id":"2154822a-bde3-7aaa-1b98-486851732495","type":"/Logic/Format Sources","parameters":{},"ports":[],"children":[]},{"id":"a561e315-d7f3-b712-8be5-ebf6d72d0e6a","type":"/Logic/Format Fact Copy","parameters":{},"ports":[],"children":[]},{"id":"df38f5f5-b5b0-6c2d-2709-aac894403042","type":"CSS Definition","parameters":{"style":".source-note {\n    position: relative;\n    width: fit-content;\n    height: fit-content;\n    white-space: nowrap;\n}\n\n.source-note::after {\n    content: attr(id);\n    display: inline-block;\n    font-family: 'Helvetica', sans-serif;\n    font-size: 24px;\n    color: #F2F2F2;\n    font-weight: bold;\n    position: absolute;\n    top: 0px;\n    line-height: 1em;\n}\n\n.fact-copy {\n    font-family: 'Helvetica', sans-serif;\n    color: #F2F2F2;\n    font-weight: bold;\n    font-size: 72px;\n    line-height: 1em;\n    max-width: 600px;\n}"},"ports":[],"children":[]},{"id":"41397bc9-9c6c-187c-5620-016c6505aecf","type":"/Logic/Get Daily Fact","parameters":{"DayBased":false},"ports":[],"children":[]},{"id":"20c159de-55d5-cd71-ead0-b8c66b79021d","type":"Model2","parameters":{"properties":"index,category,tags,content"},"ports":[],"children":[]},{"id":"dde70af3-1b1f-5612-ee47-b432076ae676","type":"/Logic/Get Object Content","parameters":{},"ports":[],"children":[]},{"id":"7f612362-8063-e6ad-910d-43c2be8de3d7","type":"Number Remapper","parameters":{"maxInputValue":1},"ports":[],"children":[]},{"id":"ce6db759-f161-54f9-1857-3d2c538c927c","type":"/Logic/Set Previous Page","parameters":{"Page":"home"},"ports":[],"children":[]},{"id":"8ed06a3e-49e5-2e3b-08f2-01d626354e68","type":"/Logic/Unlock Fact","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"354e0c7a-9920-cd87-f5ed-7bdce0571216","sourcePort":"Data","targetId":"e9a913b6-78c6-d839-9e6a-f2d865e27434","targetPort":"items"},{"sourceId":"e5d797a1-2b08-34ba-663f-97f0b03f91da","sourcePort":"formatted","targetId":"f12ecda9-ddb6-034b-acdf-10adc742964a","targetPort":"text"},{"sourceId":"2154822a-bde3-7aaa-1b98-486851732495","sourcePort":"Data","targetId":"eafbc69b-37b2-8e86-2445-6a1f59d72c00","targetPort":"items"},{"sourceId":"a561e315-d7f3-b712-8be5-ebf6d72d0e6a","sourcePort":"Copy","targetId":"c48d5783-591d-b776-2add-f2e746ef959b","targetPort":"html"},{"sourceId":"d4eaeffe-6f20-b7d9-869c-fa806c10402a","sourcePort":"didMount","targetId":"41397bc9-9c6c-187c-5620-016c6505aecf","targetPort":"Do"},{"sourceId":"41397bc9-9c6c-187c-5620-016c6505aecf","sourcePort":"Done","targetId":"20c159de-55d5-cd71-ead0-b8c66b79021d","targetPort":"fetch"},{"sourceId":"41397bc9-9c6c-187c-5620-016c6505aecf","sourcePort":"Data","targetId":"20c159de-55d5-cd71-ead0-b8c66b79021d","targetPort":"modelId"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"fetched","targetId":"354e0c7a-9920-cd87-f5ed-7bdce0571216","targetPort":"Do"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"prop-index","targetId":"e5d797a1-2b08-34ba-663f-97f0b03f91da","targetPort":"index"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"prop-category","targetId":"93a8614b-1745-ad6b-6052-1efd0a26347e","targetPort":"text"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"prop-tags","targetId":"354e0c7a-9920-cd87-f5ed-7bdce0571216","targetPort":"Names"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"fetched","targetId":"dde70af3-1b1f-5612-ee47-b432076ae676","targetPort":"Do"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"prop-content","targetId":"dde70af3-1b1f-5612-ee47-b432076ae676","targetPort":"Object"},{"sourceId":"dde70af3-1b1f-5612-ee47-b432076ae676","sourcePort":"Done","targetId":"2154822a-bde3-7aaa-1b98-486851732495","targetPort":"Do"},{"sourceId":"dde70af3-1b1f-5612-ee47-b432076ae676","sourcePort":"Answers","targetId":"2154822a-bde3-7aaa-1b98-486851732495","targetPort":"Answers"},{"sourceId":"dde70af3-1b1f-5612-ee47-b432076ae676","sourcePort":"Text","targetId":"a561e315-d7f3-b712-8be5-ebf6d72d0e6a","targetPort":"Text"},{"sourceId":"dde70af3-1b1f-5612-ee47-b432076ae676","sourcePort":"Done","targetId":"a561e315-d7f3-b712-8be5-ebf6d72d0e6a","targetPort":"Do"},{"sourceId":"dde70af3-1b1f-5612-ee47-b432076ae676","sourcePort":"Answers","targetId":"a561e315-d7f3-b712-8be5-ebf6d72d0e6a","targetPort":"Answers"},{"sourceId":"2154822a-bde3-7aaa-1b98-486851732495","sourcePort":"Count","targetId":"7f612362-8063-e6ad-910d-43c2be8de3d7","targetPort":"inputValue"},{"sourceId":"7f612362-8063-e6ad-910d-43c2be8de3d7","sourcePort":"remappedValue","targetId":"d1a3b870-63b2-4030-4419-cee647e1fe28","targetPort":"opacity"},{"sourceId":"d4eaeffe-6f20-b7d9-869c-fa806c10402a","sourcePort":"didMount","targetId":"ce6db759-f161-54f9-1857-3d2c538c927c","targetPort":"Do"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"fetched","targetId":"8ed06a3e-49e5-2e3b-08f2-01d626354e68","targetPort":"Do"},{"sourceId":"20c159de-55d5-cd71-ead0-b8c66b79021d","sourcePort":"prop-index","targetId":"8ed06a3e-49e5-2e3b-08f2-01d626354e68","targetPort":"Fact ID"}],"ports":[],"roots":["d4eaeffe-6f20-b7d9-869c-fa806c10402a"],"metadata":{"canvasPos":{"x":2254.5749598111106,"y":-12.70252035938731}}},{"name":"/Components/Source","nodes":[{"id":"f68d8db1-27d4-a4a9-a219-9dec53ca0b33","type":"Group","parameters":{"sizeMode":"contentSize"},"ports":[],"children":[{"id":"c6e55300-9ffb-63f1-a935-b17948e50536","type":"module.inlineHtml","parameters":{"cssClassName":"source-link"},"ports":[],"children":[]}]},{"id":"aea88136-7370-d6aa-c5e6-e9ed2f801071","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5b3ef52e-39b5-6363-44bb-3c60ac993a1b","type":"String Format","parameters":{"format":"{index}. <a href=\"{link}\">{copy}</a>"},"ports":[],"children":[]},{"id":"f772b02d-0abe-b235-9f40-bd6537c0dba0","type":"CSS Definition","parameters":{"style":".source-link {\n    font-family: 'Helvetica', sans-serif;\n    font-size: 16px;\n    color: #F2F2F2;\n    white-space: nowrap;\n}\n\n.source-link a {\n    color: #F2F2F2;\n    transition: 0.125s ease;\n}\n\n.source-link a:hover {\n    color: #16BDFF;\n}\n"},"ports":[],"children":[]}],"connections":[{"sourceId":"aea88136-7370-d6aa-c5e6-e9ed2f801071","sourcePort":"Index","targetId":"5b3ef52e-39b5-6363-44bb-3c60ac993a1b","targetPort":"index"},{"sourceId":"aea88136-7370-d6aa-c5e6-e9ed2f801071","sourcePort":"Copy","targetId":"5b3ef52e-39b5-6363-44bb-3c60ac993a1b","targetPort":"copy"},{"sourceId":"aea88136-7370-d6aa-c5e6-e9ed2f801071","sourcePort":"Link","targetId":"5b3ef52e-39b5-6363-44bb-3c60ac993a1b","targetPort":"link"},{"sourceId":"5b3ef52e-39b5-6363-44bb-3c60ac993a1b","sourcePort":"formatted","targetId":"c6e55300-9ffb-63f1-a935-b17948e50536","targetPort":"html"}],"ports":[{"name":"Index","type":"string","plug":"input","index":1},{"name":"Copy","type":"string","plug":"input","index":2},{"name":"Link","type":"string","plug":"input","index":3}],"roots":["f68d8db1-27d4-a4a9-a219-9dec53ca0b33"]},{"name":"/Components/Tag","nodes":[{"id":"fb3f4969-5346-dd2e-68af-19de43fecc42","type":"Group","parameters":{"paddingLeft":{"value":12,"unit":"px"},"paddingRight":{"value":12,"unit":"px"},"paddingTop":{"value":2,"unit":"px"},"paddingBottom":{"value":2,"unit":"px"},"alignItems":"center","justifyContent":"center","width":{"value":10,"unit":"%"},"sizeMode":"contentSize","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderRadius":{"value":32,"unit":"px"}},"ports":[],"children":[{"id":"2e304575-8166-cd66-13c3-ec44f12d15fb","type":"Text","parameters":{"fontFamily":"Helvetica","text":"Tag","sizeMode":"contentSize"},"ports":[],"children":[]}]},{"id":"960c0a4c-c3bf-e0d3-2f77-13a33250dcfe","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"960c0a4c-c3bf-e0d3-2f77-13a33250dcfe","sourcePort":"Name","targetId":"2e304575-8166-cd66-13c3-ec44f12d15fb","targetPort":"text"},{"sourceId":"960c0a4c-c3bf-e0d3-2f77-13a33250dcfe","sourcePort":"Color","targetId":"fb3f4969-5346-dd2e-68af-19de43fecc42","targetPort":"borderColor"},{"sourceId":"960c0a4c-c3bf-e0d3-2f77-13a33250dcfe","sourcePort":"Color","targetId":"2e304575-8166-cd66-13c3-ec44f12d15fb","targetPort":"color"}],"ports":[{"name":"Name","type":{"name":"string","multiline":true},"default":"Tag","group":"Text","plug":"input","index":1},{"name":"Color","type":{"name":"color"},"plug":"input","index":2}],"roots":["fb3f4969-5346-dd2e-68af-19de43fecc42"]},{"name":"/Logic/Get Tag Color","nodes":[{"id":"0a6d7acf-45ef-1296-43a1-cc701d3d93c7","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"f18bf702-ed08-a7d6-caaa-b07ebc05ff4b","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"gk9r","label":"MatchingArray"},{"id":"mi0m","label":"Names"}],"intype-Matching Array":"array","intype-Names":"array","scriptOutputs":[{"id":"l488","label":"Data"},{"id":"27bj","label":"Success"},{"id":"nz6m","label":"Failure"}],"outtype-Data":"array","outtype-Failure":"signal","outtype-Sucess":"signal","outtype-Success":"signal","functionScript":"let names = Inputs.Names;\nlet data = [];\nlet errors = false;\n\nnames.forEach((name) => {\n  let nameData = Inputs.MatchingArray.find((n) => n.Name === name);\n  if(nameData === undefined) {\n    errors = true;\n    data.push({\n      'Name': name,\n      'Color': '#B9B9B9',\n    })\n  } else {\n    data.push(nameData);\n  }\n});\n\nOutputs.Data = data;\nif(errors) {\n  Outputs.Failure();\n} else {\n  Outputs.Success();\n}","intype-MatchingArray":"array"},"ports":[{"name":"outtype-Data","displayName":"Type","editorName":"Data | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"l488","index":4},{"name":"out-Data","displayName":"Data","plug":"output","type":"array","group":"Outputs","index":5},{"name":"outtype-Success","displayName":"Type","editorName":"Success | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"27bj","index":6},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"outtype-Failure","displayName":"Type","editorName":"Failure | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"nz6m","index":8},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":9},{"name":"intype-MatchingArray","displayName":"Type","editorName":"MatchingArray | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"gk9r","index":10},{"name":"in-MatchingArray","displayName":"MatchingArray","plug":"input","type":"array","group":"Inputs","index":11},{"name":"intype-Names","displayName":"Type","editorName":"Names | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"mi0m","index":12},{"name":"in-Names","displayName":"Names","plug":"input","type":"array","group":"Inputs","index":13}],"children":[]},{"id":"f417537e-d2e9-ef72-e894-b2f1c1535d9b","type":"Collection2","parameters":{"items":"[\n    {\n        'Name': 'Dates',\n        'Color': '#16BDFF',\n    },\n    {\n        'Name': 'MTA',\n        'Color': '#0039A6',\n    },\n    {\n        'Name': 'People',\n        'Color': '#FF6319'\n    }\n]"},"ports":[],"children":[]}],"connections":[{"sourceId":"0a6d7acf-45ef-1296-43a1-cc701d3d93c7","sourcePort":"Names","targetId":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","targetPort":"in-Names"},{"sourceId":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","sourcePort":"out-Data","targetId":"f18bf702-ed08-a7d6-caaa-b07ebc05ff4b","targetPort":"Data"},{"sourceId":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","sourcePort":"out-Success","targetId":"f18bf702-ed08-a7d6-caaa-b07ebc05ff4b","targetPort":"Success"},{"sourceId":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","sourcePort":"out-Failure","targetId":"f18bf702-ed08-a7d6-caaa-b07ebc05ff4b","targetPort":"Failure"},{"sourceId":"f417537e-d2e9-ef72-e894-b2f1c1535d9b","sourcePort":"items","targetId":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","targetPort":"in-MatchingArray"},{"sourceId":"0a6d7acf-45ef-1296-43a1-cc701d3d93c7","sourcePort":"Do","targetId":"7ec818ea-ce72-c227-ae1b-d111766c2bd1","targetPort":"run"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1},{"name":"Names","type":"array","group":"Inputs","plug":"input","index":1},{"name":"Data","type":"array","plug":"output","index":2}],"roots":[]},{"name":"/Logic/Format Sources","nodes":[{"id":"9f00edd9-8153-dbf6-7ebe-0ced5ce4b44f","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"d599a987-24f2-10b9-a3e1-78806e4b6779","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"df759e23-0b21-235e-8bbe-e2830a8dca23","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"qjhm","label":"Answers"}],"intype-Answers":"array","scriptOutputs":[{"id":"pyaj","label":"Data"},{"id":"axrf","label":"Done"},{"id":"u5oi","label":"Count"}],"outtype-Data":"array","outtype-Done":"signal","functionScript":"let answers = Inputs.Answers;\nlet data = [];\n\nanswers.forEach((answer, i) => {\n  let source = {\n    'Index': i,\n    'Copy': answer.source === null ? null : concatURLToDomain(answer.source),\n    'Link': answer.source\n  };\n\n  if(source.Link != null) {\n    data.push(source);\n  }\n});\n\nfunction concatURLToDomain(url) {\n    let parsedUrl = new URL(url);\n    let domain = parsedUrl.hostname;\n    \n    // Remove 'www.' if it exists\n    if (domain.startsWith('www.')) {\n        domain = domain.substring(4);\n    }\n    \n    return domain;\n}\n\nOutputs.Data = data;\nOutputs.Count = data.length;\nOutputs.Done();","outtype-Count":"number"},"ports":[{"name":"outtype-Data","displayName":"Type","editorName":"Data | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"pyaj","index":4},{"name":"out-Data","displayName":"Data","plug":"output","type":"array","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"axrf","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"outtype-Count","displayName":"Type","editorName":"Count | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"u5oi","index":8},{"name":"out-Count","displayName":"Count","plug":"output","type":"number","group":"Outputs","index":9},{"name":"intype-Answers","displayName":"Type","editorName":"Answers | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"qjhm","index":10},{"name":"in-Answers","displayName":"Answers","plug":"input","type":"array","group":"Inputs","index":11}],"children":[]}],"connections":[{"sourceId":"df759e23-0b21-235e-8bbe-e2830a8dca23","sourcePort":"out-Data","targetId":"d599a987-24f2-10b9-a3e1-78806e4b6779","targetPort":"Data"},{"sourceId":"df759e23-0b21-235e-8bbe-e2830a8dca23","sourcePort":"out-Done","targetId":"d599a987-24f2-10b9-a3e1-78806e4b6779","targetPort":"Done"},{"sourceId":"9f00edd9-8153-dbf6-7ebe-0ced5ce4b44f","sourcePort":"Do","targetId":"df759e23-0b21-235e-8bbe-e2830a8dca23","targetPort":"run"},{"sourceId":"9f00edd9-8153-dbf6-7ebe-0ced5ce4b44f","sourcePort":"Answers","targetId":"df759e23-0b21-235e-8bbe-e2830a8dca23","targetPort":"in-Answers"},{"sourceId":"df759e23-0b21-235e-8bbe-e2830a8dca23","sourcePort":"out-Count","targetId":"d599a987-24f2-10b9-a3e1-78806e4b6779","targetPort":"Count"}],"ports":[{"name":"Done","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Answers","type":"array","group":"Inputs","plug":"input","index":1},{"name":"Data","type":"array","plug":"output","index":2},{"name":"Count","type":"number","plug":"output","index":3}],"roots":[]},{"name":"/Logic/Format Fact Copy","nodes":[{"id":"c816c450-f1d2-1c24-1143-628371089a1c","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"8feb9c6a-eb65-fdd5-6a9d-a0b6ddd7bbbb","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"554fd848-6c60-e47c-b191-a51258a5c377","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"k86p","label":"Text"},{"id":"ar35","label":"Answers"}],"intype-Content":"object","scriptOutputs":[{"id":"ap5i","label":"Copy"},{"id":"y0n7","label":"Done"}],"functionScript":"function replacePlaceholders(text, answers) {\n  let modifiedText = text;\n\n  answers.forEach((answer, index) => {\n    const placeholder = `@${index}`;\n    if(answer.source === null) {\n      modifiedText = modifiedText.replace(placeholder, answer.answer);\n    } else {\n      modifiedText = modifiedText.replace(placeholder, '<span class=\"source-note\" id=\"' + index + '\">' + answer.answer + '</span>');\n    }\n  });\n\n  return modifiedText;\n}\n\nlet content = Inputs.Content;\n\nOutputs.Copy = replacePlaceholders(Inputs.Text, Inputs.Answers);\nOutputs.Done();","outtype-Done":"signal","intype-Answers":"array"},"ports":[{"name":"outtype-Copy","displayName":"Type","editorName":"Copy | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"ap5i","index":4},{"name":"out-Copy","displayName":"Copy","plug":"output","type":"*","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"y0n7","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"intype-Text","displayName":"Type","editorName":"Text | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"k86p","index":8},{"name":"in-Text","displayName":"Text","plug":"input","type":"string","group":"Inputs","index":9},{"name":"intype-Answers","displayName":"Type","editorName":"Answers | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"ar35","index":10},{"name":"in-Answers","displayName":"Answers","plug":"input","type":"array","group":"Inputs","index":11},{"name":"in-Content","displayName":"Content","plug":"input","type":"*","group":"Inputs","index":12}],"children":[]}],"connections":[{"sourceId":"c816c450-f1d2-1c24-1143-628371089a1c","sourcePort":"Do","targetId":"554fd848-6c60-e47c-b191-a51258a5c377","targetPort":"run"},{"sourceId":"554fd848-6c60-e47c-b191-a51258a5c377","sourcePort":"out-Copy","targetId":"8feb9c6a-eb65-fdd5-6a9d-a0b6ddd7bbbb","targetPort":"Copy"},{"sourceId":"554fd848-6c60-e47c-b191-a51258a5c377","sourcePort":"out-Done","targetId":"8feb9c6a-eb65-fdd5-6a9d-a0b6ddd7bbbb","targetPort":"Done"},{"sourceId":"c816c450-f1d2-1c24-1143-628371089a1c","sourcePort":"Text","targetId":"554fd848-6c60-e47c-b191-a51258a5c377","targetPort":"in-Text"},{"sourceId":"c816c450-f1d2-1c24-1143-628371089a1c","sourcePort":"Answers","targetId":"554fd848-6c60-e47c-b191-a51258a5c377","targetPort":"in-Answers"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Copy","type":"*","plug":"output","index":2},{"name":"ID","type":"*","plug":"input","index":2},{"name":"Done","type":"signal","plug":"output","index":3},{"name":"Text","type":"string","group":"Inputs","plug":"input","index":3},{"name":"Answers","type":"array","group":"Inputs","plug":"input","index":4}],"roots":[]},{"name":"/Logic/Get Daily Fact","nodes":[{"id":"95c0d8c3-6e92-cbc6-e14a-e16b72e399d9","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"1f6358ca-57d6-0a8e-ceef-b1b4cc1a4304","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"5f64a3e6-fdde-1cab-747f-909882e09981","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"9f4g","label":"FactsCount"}],"intype-Facts":"array","scriptOutputs":[{"id":"o44z","label":"FactID"},{"id":"x2y9","label":"Done"},{"id":"v9u4","label":"Index"}],"outtype-Fact":"string","functionScript":"let date = new Date();\nlet daySeed = date.getFullYear() * 10000 + (date.getMonth() + 1) * 100 + date.getDate();\n\n// Use the seed to determine the random index\nlet randomIndex = daySeed % Inputs.FactsCount;\n\nOutputs.Index = randomIndex;\nOutputs.Done();","outtype-Done":"signal","outtype-Index":"number","intype-FactsCount":"number"},"ports":[{"name":"outtype-FactID","displayName":"Type","editorName":"FactID | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"o44z","index":4},{"name":"out-FactID","displayName":"FactID","plug":"output","type":"*","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"x2y9","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"outtype-Index","displayName":"Type","editorName":"Index | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"v9u4","index":8},{"name":"out-Index","displayName":"Index","plug":"output","type":"number","group":"Outputs","index":9},{"name":"intype-FactsCount","displayName":"Type","editorName":"FactsCount | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"9f4g","index":10},{"name":"in-FactsCount","displayName":"FactsCount","plug":"input","type":"number","group":"Inputs","index":11}],"children":[]},{"id":"36d53adc-9ec9-8797-569b-8aebe8f7d399","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"feiz","label":"FactsCount"}],"intype-Facts":"array","scriptOutputs":[{"id":"f37g","label":"Index"},{"id":"emg2","label":"Done"}],"outtype-Index":"number","outtype-Done":"signal","intype-FactsCount":"number","functionScript":"function getRandomInt(max) {\n  return Math.floor(Math.random() * max);\n}\n\nOutputs.Index = getRandomInt(Inputs.FactsCount);\nOutputs.Done();"},"ports":[{"name":"outtype-Index","displayName":"Type","editorName":"Index | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"f37g","index":4},{"name":"out-Index","displayName":"Index","plug":"output","type":"number","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"emg2","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"intype-FactsCount","displayName":"Type","editorName":"FactsCount | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"feiz","index":8},{"name":"in-FactsCount","displayName":"FactsCount","plug":"input","type":"number","group":"Inputs","index":9}],"children":[]},{"id":"2f857321-ef52-82da-65b1-743f8444cf7b","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"wo7k","label":"TrueRandom"},{"id":"o697","label":"DayRandom"},{"id":"e207","label":"Switch"},{"id":"bzqp","label":"Facts"}],"intype-TrueRandom":"number","intype-DayRandom":"number","intype-Switch":"boolean","scriptOutputs":[{"id":"3zrn","label":"FactID"},{"id":"3ss7","label":"Done"}],"outtype-Done":"signal","intype-Facts":"array","functionScript":"let randomIndex;\nif(Inputs.Switch) {\n    randomIndex = Inputs.DayRandom;\n} else {\n    randomIndex = Inputs.TrueRandom;\n}\n\n// Get the \"random\" item\nconst randomFact = Inputs.Facts[randomIndex];\n\nOutputs.FactID = randomFact.id;\nOutputs.Done();"},"ports":[{"name":"outtype-FactID","displayName":"Type","editorName":"FactID | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"3zrn","index":4},{"name":"out-FactID","displayName":"FactID","plug":"output","type":"*","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"3ss7","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"intype-TrueRandom","displayName":"Type","editorName":"TrueRandom | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"wo7k","index":8},{"name":"in-TrueRandom","displayName":"TrueRandom","plug":"input","type":"number","group":"Inputs","index":9},{"name":"intype-DayRandom","displayName":"Type","editorName":"DayRandom | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"o697","index":10},{"name":"in-DayRandom","displayName":"DayRandom","plug":"input","type":"number","group":"Inputs","index":11},{"name":"intype-Switch","displayName":"Type","editorName":"Switch | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"e207","index":12},{"name":"in-Switch","displayName":"Switch","plug":"input","type":"boolean","group":"Inputs","index":13},{"name":"intype-Facts","displayName":"Type","editorName":"Facts | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"bzqp","index":14},{"name":"in-Facts","displayName":"Facts","plug":"input","type":"array","group":"Inputs","index":15}],"children":[]},{"id":"8d75da5e-43de-799a-aed2-99eb60c33238","type":"/Logic/Get Facts","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"95c0d8c3-6e92-cbc6-e14a-e16b72e399d9","sourcePort":"DayBased","targetId":"2f857321-ef52-82da-65b1-743f8444cf7b","targetPort":"in-Switch"},{"sourceId":"36d53adc-9ec9-8797-569b-8aebe8f7d399","sourcePort":"out-Index","targetId":"2f857321-ef52-82da-65b1-743f8444cf7b","targetPort":"in-TrueRandom"},{"sourceId":"5f64a3e6-fdde-1cab-747f-909882e09981","sourcePort":"out-Index","targetId":"2f857321-ef52-82da-65b1-743f8444cf7b","targetPort":"in-DayRandom"},{"sourceId":"36d53adc-9ec9-8797-569b-8aebe8f7d399","sourcePort":"out-Done","targetId":"5f64a3e6-fdde-1cab-747f-909882e09981","targetPort":"run"},{"sourceId":"5f64a3e6-fdde-1cab-747f-909882e09981","sourcePort":"out-Done","targetId":"2f857321-ef52-82da-65b1-743f8444cf7b","targetPort":"run"},{"sourceId":"2f857321-ef52-82da-65b1-743f8444cf7b","sourcePort":"out-FactID","targetId":"1f6358ca-57d6-0a8e-ceef-b1b4cc1a4304","targetPort":"Data"},{"sourceId":"2f857321-ef52-82da-65b1-743f8444cf7b","sourcePort":"out-Done","targetId":"1f6358ca-57d6-0a8e-ceef-b1b4cc1a4304","targetPort":"Done"},{"sourceId":"95c0d8c3-6e92-cbc6-e14a-e16b72e399d9","sourcePort":"Do","targetId":"8d75da5e-43de-799a-aed2-99eb60c33238","targetPort":"Do"},{"sourceId":"8d75da5e-43de-799a-aed2-99eb60c33238","sourcePort":"Facts Count","targetId":"5f64a3e6-fdde-1cab-747f-909882e09981","targetPort":"in-FactsCount"},{"sourceId":"8d75da5e-43de-799a-aed2-99eb60c33238","sourcePort":"Facts","targetId":"2f857321-ef52-82da-65b1-743f8444cf7b","targetPort":"in-Facts"},{"sourceId":"8d75da5e-43de-799a-aed2-99eb60c33238","sourcePort":"Done","targetId":"36d53adc-9ec9-8797-569b-8aebe8f7d399","targetPort":"run"},{"sourceId":"8d75da5e-43de-799a-aed2-99eb60c33238","sourcePort":"Facts Count","targetId":"36d53adc-9ec9-8797-569b-8aebe8f7d399","targetPort":"in-FactsCount"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Data","type":"*","plug":"output","index":1},{"name":"DayBased","type":"boolean","group":"Inputs","plug":"input","index":1},{"name":"Done","type":"signal","plug":"output","index":2}],"roots":[]},{"name":"/Logic/Get Object Content","nodes":[{"id":"e6116087-2db4-097c-5540-87e67a052621","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5fe78bfe-12ee-2be2-28a9-d5e67ea4ff9e","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"9276f8b7-d9f7-76f3-d9ab-56d6759e4a63","type":"JavaScriptFunction","parameters":{"scriptInputs":[{"id":"31zf","label":"Object"}],"intype-Object":"object","scriptOutputs":[{"id":"lvu5","label":"Text"},{"id":"j01w","label":"Done"},{"id":"84bc","label":"Answers"}],"functionScript":"Outputs.Text = Inputs.Object.text;\nOutputs.Answers = Inputs.Object.answers;\nOutputs.Done();","outtype-Done":"signal","outtype-Success":"signal","outtype-Error":"signal","outtype-Answers":"array"},"ports":[{"name":"outtype-Text","displayName":"Type","editorName":"Text | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"lvu5","index":4},{"name":"out-Text","displayName":"Text","plug":"output","type":"*","group":"Outputs","index":5},{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"j01w","index":6},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"outtype-Answers","displayName":"Type","editorName":"Answers | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"84bc","index":8},{"name":"out-Answers","displayName":"Answers","plug":"output","type":"array","group":"Outputs","index":9},{"name":"intype-Object","displayName":"Type","editorName":"Object | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"31zf","index":10},{"name":"in-Object","displayName":"Object","plug":"input","type":"object","group":"Inputs","index":11}],"children":[]}],"connections":[{"sourceId":"e6116087-2db4-097c-5540-87e67a052621","sourcePort":"Object","targetId":"9276f8b7-d9f7-76f3-d9ab-56d6759e4a63","targetPort":"in-Object"},{"sourceId":"e6116087-2db4-097c-5540-87e67a052621","sourcePort":"Do","targetId":"9276f8b7-d9f7-76f3-d9ab-56d6759e4a63","targetPort":"run"},{"sourceId":"9276f8b7-d9f7-76f3-d9ab-56d6759e4a63","sourcePort":"out-Text","targetId":"5fe78bfe-12ee-2be2-28a9-d5e67ea4ff9e","targetPort":"Text"},{"sourceId":"9276f8b7-d9f7-76f3-d9ab-56d6759e4a63","sourcePort":"out-Answers","targetId":"5fe78bfe-12ee-2be2-28a9-d5e67ea4ff9e","targetPort":"Answers"},{"sourceId":"9276f8b7-d9f7-76f3-d9ab-56d6759e4a63","sourcePort":"out-Done","targetId":"5fe78bfe-12ee-2be2-28a9-d5e67ea4ff9e","targetPort":"Done"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Done","type":"signal","plug":"output","index":1},{"name":"Object","type":"object","group":"Inputs","plug":"input","index":1},{"name":"Text","type":"*","plug":"output","index":2},{"name":"Answers","type":"array","plug":"output","index":3}],"roots":[]},{"name":"/Logic/Unlock Fact","nodes":[{"id":"056c3b12-8d81-e722-55c7-7e104788be81","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"4ad018e7-76bf-6a48-4a93-090079a2ad64","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"9d879a15-660b-95b6-2816-5d426db1ce8e","type":"JavaScriptFunction","parameters":{"scriptOutputs":[{"id":"jvvw","label":"Done"}],"outtype-Settings":"object","functionScript":"function unlockFact(factID, userData) {\n    // Check if fact is already unlocked\n    if(userData['unlocked-facts'].find((fact) => fact.index === factID) === undefined) {\n        // Fact is newly unlocked\n        let unlockedFact = {\n            'index': factID,\n            'date-unlocked': new Date(),\n            'quiz': {\n                'shown': 0,\n                'correct': 0\n            }\n        }\n\n        userData['unlocked-facts'].push(unlockedFact);\n    }\n}\n\nif(Inputs.CanStoreData) {\n    let userData = JSON.parse(localStorage.getItem(\"userData\"));\n\n    unlockFact(Inputs.FactID, userData);\n    localStorage.setItem('userData', JSON.stringify(userData));\n    Outputs.Done();\n}\n\n\n","outtype-Done":"signal","scriptInputs":[{"id":"vy50","label":"FactID"},{"id":"xapg","label":"CanStoreData"}],"intype-DarkMode":"boolean","intype-StoreData":"boolean","intype-FactID":"number","intype-CanStoreData":"boolean"},"ports":[{"name":"outtype-Done","displayName":"Type","editorName":"Done | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"jvvw","index":4},{"name":"out-Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"intype-FactID","displayName":"Type","editorName":"FactID | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"vy50","index":6},{"name":"in-FactID","displayName":"FactID","plug":"input","type":"number","group":"Inputs","index":7},{"name":"intype-CanStoreData","displayName":"Type","editorName":"CanStoreData | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"}],"allowEditOnly":true},"default":"string","parent":"scriptInputs","parentItemId":"xapg","index":8},{"name":"in-CanStoreData","displayName":"CanStoreData","plug":"input","type":"boolean","group":"Inputs","index":9}],"children":[]},{"id":"82c2d0b3-891a-5718-e250-31cf0b4a78bf","type":"/Logic/Load Settings","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"9d879a15-660b-95b6-2816-5d426db1ce8e","sourcePort":"out-Done","targetId":"4ad018e7-76bf-6a48-4a93-090079a2ad64","targetPort":"Done"},{"sourceId":"056c3b12-8d81-e722-55c7-7e104788be81","sourcePort":"Fact ID","targetId":"9d879a15-660b-95b6-2816-5d426db1ce8e","targetPort":"in-FactID"},{"sourceId":"056c3b12-8d81-e722-55c7-7e104788be81","sourcePort":"Do","targetId":"82c2d0b3-891a-5718-e250-31cf0b4a78bf","targetPort":"Do"},{"sourceId":"82c2d0b3-891a-5718-e250-31cf0b4a78bf","sourcePort":"Store Data","targetId":"9d879a15-660b-95b6-2816-5d426db1ce8e","targetPort":"in-CanStoreData"},{"sourceId":"82c2d0b3-891a-5718-e250-31cf0b4a78bf","sourcePort":"Done","targetId":"9d879a15-660b-95b6-2816-5d426db1ce8e","targetPort":"run"}],"ports":[{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Done","type":"signal","plug":"output","index":1},{"name":"Fact ID","type":"number","group":"Inputs","plug":"input","index":1}],"roots":[]}]